# EVUE for stm32l4r9ai discovery


## 程序说明

1.  开发环境为KEIL5.21
2.  液晶屏分辨率为390x390
3.  本程序启动后从SD卡读取文件并执行，运行之前以将samples里面的文件拷贝到U盘根目录。
4.  本程序为虚拟机开辟了150KB heap，理论上能运行5个不同界面。由于目前还没有实现资源释放功能，页面资源会一直驻留在heap中。当heap不够用时，会出现hardfault。
5.  测试用例的music页面在开启lvgl png解码时，会导致死机。目前问题定位在lvgl代码里面，具体还待研究。
6.  移植部分主要分为两个文件：evm_main.c 和 lvgl_main.c。lvgl的配置文件为lv_config.h，evue的配置文件为app_config.h。
7.  lvgl显示部分并未完全优化，动画效果会出现明显卡顿。后续会持续优化显示刷新驱动。


## 后续工作说明

1.  增加页面replace功能，即替换页面，释放之前页面资源。
2.  资源释放采用gc自动回收模式，gc触发后主动释放hml对象、lvgl对象和evm对象。
3.  增加字节码文件加载模式，减少脚本文件加载占用的资源和时间。
4.  提高lvgl动画刷新率。


## EVM官方QQ交流群
群号：399011436

